function __ajax(a,b){let c,d={},e=a,f="",g=a=>{for(let b in f="",a)a.hasOwnProperty(b)&&(f+=encodeURIComponent(b)+"="+encodeURIComponent(a[b])+"&");f=f.substr(0,f.length-1)};d.method=b===void 0?"GET":b.method||"POST","undefined"!=typeof b&&"undefined"!=typeof b.parameters&&g(b.parameters);c=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");let h=null;return{setUrl:a=>{e=a},setParameters:g,addParameters:a=>{for(let b in a)a.hasOwnProperty(b)&&(f+=`&${encodeURIComponent(b)}=${encodeURIComponent(a[b])}`)},getParameters:()=>f,setMethod:a=>{d.method=a},get:()=>(h=new Promise((a,b)=>{c.onreadystatechange=()=>{4===c.readyState&&(200===c.status?a(c.responseText):400===c.status?b("[400]"):b("[ne 200]"))},c.open(d.method,e,!0),c.setRequestHeader("X-Requested-With","XMLHttpRequest"),c.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),c.send(f)}),h)}}let config={mainMenu:{opened:!1}};state.lastScrollPosition=0,state.wrapperNr=0,state.sheet=1,state.mouseIsUp=!1,setTimeout(()=>{try{document.querySelector("[style*=\"z-index:9999999\"]").style.display="none"}catch(a){}},2e3);let data=null,_DOC=document;_DOC._GEBI=_DOC.getElementById,_DOC._QS=_DOC.querySelector,_DOC._QSA=_DOC.querySelectorAll,document.$_AEL=document.addEventListener,HTMLElement.prototype.$_AEL=HTMLElement.prototype.addEventListener,window.$_AEL=window.addEventListener;let functions={hasClass:(a,b)=>{let c=a.classList;for(let d=0,e=c.length;d<e;d++)if(c[d]===b)return!0;return!1},menuObj:{showMenu:function(a){document.getElementById("menu").classList.remove("hidden"),setTimeout(()=>{a.style.display=""},1e3)},hideMenu:function(a){document.getElementById("menu").classList.add("hidden"),setTimeout(()=>{a.style.display=""},1e3)}},resizeImages:(a,b)=>{let c=null,d=null,e=!!(700>=window.innerWidth);null===b&&(b=700);null===a&&(a=document.querySelectorAll(".sizedependent"));for(let f=0,g=a.length;f<g;f++)c=a[f].getAttribute("srcc"),e&&(d=c.lastIndexOf("/"),c=c.substring(0,d)+"/500/"+c.substring(d+1,c.length)),a[f].src=c.replace("[@","").replace("@]",""),a[f].setAttribute("height","auto")},genetareRandomId:a=>{let b="",c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let d=0;d<a;d++)b+=c.charAt(Math.floor(Math.random()*c.length));return b},menu:()=>{let a=document.getElementById("menu"),b=document.getElementById("main-menu-button"),c=document.querySelector("h1"),d=document.getElementById("wrapper-0");b.addEventListener("click",f=>{config.mainMenu.opened?(b.classList.remove("active"),a.classList.add("hidden"),config.mainMenu.opened=!1,d.classList.remove("blurred"),c.classList.remove("blurred")):(b.classList.add("active"),a.classList.remove("hidden"),d.classList.add("blurred"),c.classList.add("blurred"),config.mainMenu.opened=!0);f.preventDefault()},!1)},enlarge:()=>{},run:()=>{window.onload||(()=>{})},translate:()=>{let a=new Promise(a=>{fetch("data/dictionary.json").then(a=>a.json()).then(b=>{a(b)})});return a},setServiceWorker:()=>{"serviceWorker"in navigator&&navigator.serviceWorker.register("scripts/sw.js").then(function(){}).catch(function(){})}};const copyToClipboard=a=>{const b=document.createElement("textarea");b.value=a,document.body.appendChild(b),b.select(),document.execCommand("copy"),document.body.removeChild(b)};let contents=[],translations=null;state.isDeep=!0,state.currentComment={},state.commentEnlarged=!1,window.onload=()=>{const a=document.getElementById("modalWindow"),b=document.getElementById("menu"),c=document.querySelectorAll(".content"),d=document.getElementById("arrow-up"),e=document.getElementById("change-category"),f=document.querySelectorAll(".sizedependent"),g=document.getElementById("wrapper-0"),h={less:(a,b)=>{contents[a]=b[a].innerHTML,b[a].innerHTML=b[a].innerHTML.replace(/<img\/?[^>]+(>|$)/g,"[...]").slice(0,150)+"..."},less2:a=>{a.innerHTML=a.innerHTML.replace(/<img\/?[^>]+(>|$)/g,"[...]").slice(0,150)+"..."},more:(a,b)=>{b.innerHTML=contents[a],functions.resizeImages(document.querySelectorAll(".sizedependent"))}};functions.run(),functions.resizeImages(f),700<window.innerWidth?(functions.menuObj.showMenu(b),b.style.display=""):(b.style.display="none",functions.menuObj.hideMenu(b),g.classList.remove("blurred"),setTimeout(()=>{b.style.display=""},1e3));functions.menu();for(let a=0,b=c.length;a<b;a++)h.less(a,c);window.addEventListener("resize",()=>{700<window.innerWidth?functions.menuObj.showMenu(b):(functions.menuObj.hideMenu(b),g.classList.remove("blurred"));functions.resizeImages(document.querySelectorAll(".sizedependent"))},!0),new __ajax("config/mexico.json").get().then(b=>{new __ajax(`translations/${JSON.parse(b).language}.json`).get().then(b=>{translations=JSON.parse(b),g.addEventListener("click",b=>{let c=b.target;if(c.classList.contains("plus")&&c.classList.contains("firstone")&&("+"===c.innerHTML?(c.innerHTML="-",c.parentElement.classList.remove("hidden")):"-"===c.innerHTML&&(c.parentElement.classList.add("hidden"),c.innerHTML="+")),c.classList.contains("plus")&&c.classList.contains("load-more")&&"-"===c.innerText[0])return c.innerHTML=c.innerHTML.replace("-","+"),c.setAttribute("loaded","true"),void(c.style.height="20px");if(c.classList.contains("plus")&&c.classList.contains("load-more")&&"+"===c.innerText[0]&&null!==c.getAttribute("loaded"))return c.innerHTML=c.innerHTML.replace("+","-"),c.setAttribute("loaded","true"),void(c.style.height="");if(c.classList.contains("plus")&&c.classList.contains("load-more"))return void("unloaded"===c.getAttribute("status")&&(getForum(c),c.setAttribute("status","unloaded"),c.innerHTML=c.innerHTML.replace("+","-")));let d=null;if(c.classList.contains("more")&&(d=c.previousElementSibling,"shorter"===d.getAttribute("data-form")?(d.setAttribute("data-form","longer"),h.more(d.getAttribute("x-data"),d),c.innerHTML=translations.less):(d.setAttribute("data-form","shorter"),h.less2(d),c.innerHTML=translations.more)),c.classList.contains("addComment")){let b=null,d=null,e=a.querySelector(".content");state.currentComment.prev_forum_id=c.parentElement.getAttribute("x-data-id-comment"),null===state.currentComment.prev_forum_id?(e.innerHTML="Komentujesz",a.querySelector(".date").innerHTML="",d=c.parentElement.previousElementSibling.previousElementSibling.previousElementSibling.previousElementSibling.innerHTML):(a.querySelector(".login").innerHTML=c.parentElement.querySelector(".login").innerHTML,a.querySelector(".date").innerHTML=c.parentElement.querySelector(".date").innerHTML,d=c.parentElement.querySelector(".content_").innerHTML);let f=document.createElement("div");200<d.length?(b=d.substr(0,200)+" ...",f.innerHTML="<img width=\"20px\" style=\"transform: rotate(90deg);\" src=\"images/arrow.svg\" />",f.addEventListener("click",()=>{state.commentEnlarged?(e.innerHTML=b,e.appendChild(f),e.parentElement.style.overflow="",f.innerHTML="<img width=\"20px\" style=\"transform: rotate(90deg);\" src=\"images/arrow.svg\" />"):(e.innerHTML=d,a.querySelector(".content").appendChild(f),e.parentElement.style.overflow="scroll",f.innerHTML="<img width=\"20px\" style=\"transform: rotate(270deg);  top: -20px;\" src=\"images/arrow.svg\" />"),state.commentEnlarged=!state.commentEnlarged},!1)):b=d,e.innerHTML=b,e.appendChild(f),document.querySelector("#modalWindow > div.comment > div.content").addEventListener("copy",()=>{},!1),state.currentComment.post_id=c.closest(".forum").previousElementSibling.previousElementSibling.getAttribute("data-id-posts"),a.classList.add("visible")}},!1)})}),window.addEventListener("scroll",()=>{let a=document.documentElement,b=(window.pageYOffset||a.scrollTop)-(a.clientTop||0)||document.body.scrollTop;300<b?d.classList.add("visible"):d.classList.remove("visible")},!1),d.addEventListener("click",()=>{window.scroll({top:0,left:0,behavior:"smooth"})},!1),document.querySelector("aside").addEventListener("click",a=>{let b=a.target;"LI"===b.tagName&&document.querySelector("#"+b.getAttribute("x-data")).scrollIntoView({behavior:"smooth"})},!1),e.addEventListener("mouseover",()=>{e.children[0].classList.remove("hidden")},!1),e.addEventListener("mouseout",()=>{e.children[0].classList.add("hidden")},!1),document.getElementById("okCancel").addEventListener("click",function(b){"OK"===b.target.innerHTML?(ajax=new __ajax("components/forum/addComment.php",{value:"POST"}),ajax.setParameters({content:a.querySelector("textarea").value,post_id:state.currentComment.post_id,prev_forum_id:state.currentComment.prev_forum_id,post_id:state.currentComment.post_id}),ajax.get().then(function(){a.classList.remove("visible")})):"Cancel"===b.target.innerHTML&&a.classList.remove("visible")},!1),a.addEventListener("keyup",function(a){"Escape"===a.key&&this.classList.remove("visible")},!1),a.querySelector("textarea").addEventListener("focus",a=>{a.target.style.textAlign="left",a.target.style.lineHeight="auto",a.target.setAttribute("placeholder",""),a.target.style.lineHeight="normal"}),a.querySelector("textarea").addEventListener("unfocusfocus",a=>{a.target.style.textAlign="left",a.target.setAttribute("placeholder","")})};function getForum(a){let b=new __ajax("components/forum/getForum.php",{value:"POST"});b.setParameters({forum_prev_id:a.parentElement.getAttribute("x-data-id-comment")}),b.get().then(function(b){let c=JSON.parse(b),d=null,e=null,f=null,g=null,h=null,j=null;for(let k=0,i=c.length;k<i;k++)d=document.createElement("div"),d.setAttribute("x-data-id-comment",c[k].forum_id),d.classList.add("clearfix"),d.classList.add("comment"),e=document.createElement("div"),e.classList.add("login"),e.innerText=c[k].login,f=document.createElement("div"),f.classList.add("date"),f.innerText=c[k].date,g=document.createElement("div"),g.classList.add("content_"),g.innerText=c[k].content,d.appendChild(e),d.appendChild(f),d.appendChild(g),"undefined"!=typeof canComment&&(j=document.createElement("div"),j.classList.add("addComment"),j.innerHTML=translations.fullblog[4],d.appendChild(j)),1===c[k].has_children&&(h=document.createElement("div"),h.classList.add("plus"),h.classList.add("load-more"),h.setAttribute("status","unloaded"),h.setAttribute("data-id",c[k].forum_id),h.innerText="+",d.appendChild(h)),a.appendChild(d)})}